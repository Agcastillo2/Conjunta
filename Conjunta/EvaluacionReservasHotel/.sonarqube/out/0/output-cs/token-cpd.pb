â
iC:\Users\HP\source\repos\Evaluacion_U2\EvaluacionReservasHotel\EvaluacionReservasHotel\WeatherForecast.cs
	namespace 	#
EvaluacionReservasHotel
 !
{ 
public 

class 
WeatherForecast  
{ 
public 
DateOnly 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
TemperatureC 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
int		 
TemperatureF		 
=>		  "
$num		# %
+		& '
(		( )
int		) ,
)		, -
(		- .
TemperatureC		. :
/		; <
$num		= C
)		C D
;		D E
public 
string 
? 
Summary 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} í
aC:\Users\HP\source\repos\Evaluacion_U2\EvaluacionReservasHotel\EvaluacionReservasHotel\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
	DotNetEnv 	
.	 

Env
 
. 
Load 
( 
) 
; 
var		 
configuration		 
=		 
builder		 
.		 
Configuration		 )
;		) *
var

 
connectionString

 
=

 
configuration

 $
.

$ %
GetConnectionString

% 8
(

8 9
$str

9 L
)

L M
;

M N
var 

dbPassword 
= 
Environment 
. "
GetEnvironmentVariable 3
(3 4
$str4 A
)A B
??C E
stringF L
.L M
EmptyM R
;R S
var 
dbUser 

= 
Environment 
. "
GetEnvironmentVariable /
(/ 0
$str0 9
)9 :
??; =
$str> B
;B C
var 
dbServer 
= 
Environment 
. "
GetEnvironmentVariable 1
(1 2
$str2 =
)= >
??? A
$strB M
;M N
var 

dbDatabase 
= 
Environment 
. "
GetEnvironmentVariable 3
(3 4
$str4 A
)A B
??C E
$strF Q
;Q R
connectionString 
= 
$" 
$str 
{ 
dbServer %
}% &
$str& 0
{0 1

dbDatabase1 ;
}; <
$str< E
{E F
dbUserF L
}L M
$strM W
{W X

dbPasswordX b
}b c
$str	c ù
"
ù û
;
û ü
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
builder 
. 
Services 
. 
AddDbContext 
< 
AppDBContext *
>* +
(+ ,
options, 3
=>4 6
options 
. 
UseSqlServer 
( 
connectionString )
)) *
)* +
;+ ,
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. 

UseSwagger 
( 
) 
; 
app 
. 
UseSwaggerUI 
( 
) 
; 
} 
app!! 
.!! 
UseHttpsRedirection!! 
(!! 
)!! 
;!! 
app## 
.## 
UseAuthorization## 
(## 
)## 
;## 
app%% 
.%% 
MapControllers%% 
(%% 
)%% 
;%% 
await'' 
app'' 	
.''	 

RunAsync''
 
('' 
)'' 
;'' …r
ÄC:\Users\HP\source\repos\Evaluacion_U2\EvaluacionReservasHotel\EvaluacionReservasHotel\Migrations\20250121122459_InitalCreate.cs
	namespace 	#
EvaluacionReservasHotel
 !
.! "

Migrations" ,
{ 
public 

partial 
class 
InitalCreate %
:& '
	Migration( 1
{		 
private

 
const

 
string

 
Identity

 %
=

& '
$str

( <
;

< =
private 
const 
string 
NvarcharMax (
=) *
$str+ :
;: ;
private 
const 
string 
Reservas %
=& '
$str( 2
;2 3
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
	IdCliente 
= 
table  %
.% &
Column& ,
<, -
int- 0
>0 1
(1 2
type2 6
:6 7
$str8 =
,= >
nullable? G
:G H
falseI N
)N O
. 

Annotation #
(# $
Identity$ ,
,, -
$str. 4
)4 5
,5 6
Nombre 
= 
table "
." #
Column# )
<) *
string* 0
>0 1
(1 2
type2 6
:6 7
$str8 F
,F G
	maxLengthH Q
:Q R
$numS U
,U V
nullableW _
:_ `
falsea f
)f g
,g h
Apellido 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: H
,H I
	maxLengthJ S
:S T
$numU W
,W X
nullableY a
:a b
falsec h
)h i
,i j
Edad 
= 
table  
.  !
Column! '
<' (
int( +
>+ ,
(, -
type- 1
:1 2
$str3 8
,8 9
nullable: B
:B C
falseD I
)I J
,J K
Email 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
NvarcharMax7 B
,B C
nullableD L
:L M
falseN S
)S T
,T U
	Direccion 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; J
,J K
	maxLengthL U
:U V
$numW Z
,Z [
nullable\ d
:d e
falsef k
)k l
,l m
Cedula 
= 
table "
." #
Column# )
<) *
string* 0
>0 1
(1 2
type2 6
:6 7
NvarcharMax8 C
,C D
nullableE M
:M N
falseO T
)T U
,U V
Telefono 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
NvarcharMax: E
,E F
nullableG O
:O P
falseQ V
)V W
} 
, 
constraints 
: 
table "
=># %
{ 
table   
.   

PrimaryKey   $
(  $ %
$str  % 2
,  2 3
x  4 5
=>  6 8
x  9 :
.  : ;
	IdCliente  ; D
)  D E
;  E F
}!! 
)!! 
;!! 
migrationBuilder## 
.## 
CreateTable## (
(##( )
name$$ 
:$$ 
$str$$ $
,$$$ %
columns%% 
:%% 
table%% 
=>%% !
new%%" %
{&& 
IdHabitacion''  
=''! "
table''# (
.''( )
Column'') /
<''/ 0
int''0 3
>''3 4
(''4 5
type''5 9
:''9 :
$str''; @
,''@ A
nullable''B J
:''J K
false''L Q
)''Q R
.(( 

Annotation(( #
(((# $
Identity(($ ,
,((, -
$str((. 4
)((4 5
,((5 6
NumeroHabitacion)) $
=))% &
table))' ,
.)), -
Column))- 3
<))3 4
string))4 :
>)): ;
()); <
type))< @
:))@ A
NvarcharMax))B M
,))M N
nullable))O W
:))W X
false))Y ^
)))^ _
,))_ `
TipoHabitacion** "
=**# $
table**% *
.*** +
Column**+ 1
<**1 2
string**2 8
>**8 9
(**9 :
type**: >
:**> ?
$str**@ N
,**N O
	maxLength**P Y
:**Y Z
$num**[ ]
,**] ^
nullable**_ g
:**g h
false**i n
)**n o
,**o p
PrecioPorNoche++ "
=++# $
table++% *
.++* +
Column+++ 1
<++1 2
decimal++2 9
>++9 :
(++: ;
type++; ?
:++? @
$str++A P
,++P Q
nullable++R Z
:++Z [
false++\ a
)++a b
},, 
,,, 
constraints-- 
:-- 
table-- "
=>--# %
{.. 
table// 
.// 

PrimaryKey// $
(//$ %
$str//% 6
,//6 7
x//8 9
=>//: <
x//= >
.//> ?
IdHabitacion//? K
)//K L
;//L M
}00 
)00 
;00 
migrationBuilder22 
.22 
CreateTable22 (
(22( )
name33 
:33 
Reservas33 
,33 
columns44 
:44 
table44 
=>44 !
new44" %
{55 
	IdReserva66 
=66 
table66  %
.66% &
Column66& ,
<66, -
int66- 0
>660 1
(661 2
type662 6
:666 7
$str668 =
,66= >
nullable66? G
:66G H
false66I N
)66N O
.77 

Annotation77 #
(77# $
Identity77$ ,
,77, -
$str77. 4
)774 5
,775 6
	IdCliente88 
=88 
table88  %
.88% &
Column88& ,
<88, -
int88- 0
>880 1
(881 2
type882 6
:886 7
$str888 =
,88= >
nullable88? G
:88G H
false88I N
)88N O
,88O P
IdHabitacion99  
=99! "
table99# (
.99( )
Column99) /
<99/ 0
int990 3
>993 4
(994 5
type995 9
:999 :
$str99; @
,99@ A
nullable99B J
:99J K
false99L Q
)99Q R
,99R S
FechaInicio:: 
=::  !
table::" '
.::' (
Column::( .
<::. /
DateTime::/ 7
>::7 8
(::8 9
type::9 =
:::= >
$str::? J
,::J K
nullable::L T
:::T U
false::V [
)::[ \
,::\ ]
FechaFin;; 
=;; 
table;; $
.;;$ %
Column;;% +
<;;+ ,
DateTime;;, 4
>;;4 5
(;;5 6
type;;6 :
:;;: ;
$str;;< G
,;;G H
nullable;;I Q
:;;Q R
false;;S X
);;X Y
,;;Y Z
PrecioTotal<< 
=<<  !
table<<" '
.<<' (
Column<<( .
<<<. /
decimal<</ 6
><<6 7
(<<7 8
type<<8 <
:<<< =
$str<<> M
,<<M N
nullable<<O W
:<<W X
false<<Y ^
)<<^ _
}== 
,== 
constraints>> 
:>> 
table>> "
=>>># %
{?? 
table@@ 
.@@ 

PrimaryKey@@ $
(@@$ %
$str@@% 2
,@@2 3
x@@4 5
=>@@6 8
x@@9 :
.@@: ;
	IdReserva@@; D
)@@D E
;@@E F
tableAA 
.AA 

ForeignKeyAA $
(AA$ %
nameBB 
:BB 
$strBB >
,BB> ?
columnCC 
:CC 
xCC  !
=>CC" $
xCC% &
.CC& '
	IdClienteCC' 0
,CC0 1
principalTableDD &
:DD& '
$strDD( 2
,DD2 3
principalColumnEE '
:EE' (
$strEE) 4
,EE4 5
onDeleteFF  
:FF  !
ReferentialActionFF" 3
.FF3 4
CascadeFF4 ;
)FF; <
;FF< =
tableGG 
.GG 

ForeignKeyGG $
(GG$ %
nameHH 
:HH 
$strHH E
,HHE F
columnII 
:II 
xII  !
=>II" $
xII% &
.II& '
IdHabitacionII' 3
,II3 4
principalTableJJ &
:JJ& '
$strJJ( 6
,JJ6 7
principalColumnKK '
:KK' (
$strKK) 7
,KK7 8
onDeleteLL  
:LL  !
ReferentialActionLL" 3
.LL3 4
CascadeLL4 ;
)LL; <
;LL< =
}MM 
)MM 
;MM 
migrationBuilderOO 
.OO 
CreateTableOO (
(OO( )
namePP 
:PP 
$strPP ,
,PP, -
columnsQQ 
:QQ 
tableQQ 
=>QQ !
newQQ" %
{RR 
IdServicioAdicionalSS '
=SS( )
tableSS* /
.SS/ 0
ColumnSS0 6
<SS6 7
intSS7 :
>SS: ;
(SS; <
typeSS< @
:SS@ A
$strSSB G
,SSG H
nullableSSI Q
:SSQ R
falseSSS X
)SSX Y
.TT 

AnnotationTT #
(TT# $
IdentityTT$ ,
,TT, -
$strTT. 4
)TT4 5
,TT5 6
	IdReservaUU 
=UU 
tableUU  %
.UU% &
ColumnUU& ,
<UU, -
intUU- 0
>UU0 1
(UU1 2
typeUU2 6
:UU6 7
$strUU8 =
,UU= >
nullableUU? G
:UUG H
falseUUI N
)UUN O
,UUO P
DescripcionVV 
=VV  !
tableVV" '
.VV' (
ColumnVV( .
<VV. /
stringVV/ 5
>VV5 6
(VV6 7
typeVV7 ;
:VV; <
$strVV= L
,VVL M
	maxLengthVVN W
:VVW X
$numVVY \
,VV\ ]
nullableVV^ f
:VVf g
falseVVh m
)VVm n
,VVn o
CostoWW 
=WW 
tableWW !
.WW! "
ColumnWW" (
<WW( )
decimalWW) 0
>WW0 1
(WW1 2
typeWW2 6
:WW6 7
$strWW8 G
,WWG H
nullableWWI Q
:WWQ R
falseWWS X
)WWX Y
}XX 
,XX 
constraintsYY 
:YY 
tableYY "
=>YY# %
{ZZ 
table[[ 
.[[ 

PrimaryKey[[ $
([[$ %
$str[[% >
,[[> ?
x[[@ A
=>[[B D
x[[E F
.[[F G
IdServicioAdicional[[G Z
)[[Z [
;[[[ \
table\\ 
.\\ 

ForeignKey\\ $
(\\$ %
name]] 
:]] 
$str]] J
,]]J K
column^^ 
:^^ 
x^^  !
=>^^" $
x^^% &
.^^& '
	IdReserva^^' 0
,^^0 1
principalTable__ &
:__& '
Reservas__( 0
,__0 1
principalColumn`` '
:``' (
$str``) 4
,``4 5
onDeleteaa  
:aa  !
ReferentialActionaa" 3
.aa3 4
Cascadeaa4 ;
)aa; <
;aa< =
}bb 
)bb 
;bb 
migrationBuilderdd 
.dd 
CreateIndexdd (
(dd( )
nameee 
:ee 
$stree -
,ee- .
tableff 
:ff 
Reservasff 
,ff  
columngg 
:gg 
$strgg #
)gg# $
;gg$ %
migrationBuilderii 
.ii 
CreateIndexii (
(ii( )
namejj 
:jj 
$strjj 0
,jj0 1
tablekk 
:kk 
Reservaskk 
,kk  
columnll 
:ll 
$strll &
)ll& '
;ll' (
migrationBuildernn 
.nn 
CreateIndexnn (
(nn( )
nameoo 
:oo 
$stroo 9
,oo9 :
tablepp 
:pp 
$strpp -
,pp- .
columnqq 
:qq 
$strqq #
)qq# $
;qq$ %
}rr 	
	protectedtt 
overridett 
voidtt 
Downtt  $
(tt$ %
MigrationBuildertt% 5
migrationBuildertt6 F
)ttF G
{uu 	
migrationBuildervv 
.vv 
	DropTablevv &
(vv& '
nameww 
:ww 
$strww ,
)ww, -
;ww- .
migrationBuilderyy 
.yy 
	DropTableyy &
(yy& '
namezz 
:zz 
Reservaszz 
)zz 
;zz  
migrationBuilder|| 
.|| 
	DropTable|| &
(||& '
name}} 
:}} 
$str}}  
)}}  !
;}}! "
migrationBuilder 
. 
	DropTable &
(& '
name
ÄÄ 
:
ÄÄ 
$str
ÄÄ $
)
ÄÄ$ %
;
ÄÄ% &
}
ÅÅ 	
}
ÇÇ 
}ÉÉ ≈9
ÑC:\Users\HP\source\repos\Evaluacion_U2\EvaluacionReservasHotel\EvaluacionReservasHotel\Controllers\ServiciosAdicionalesController.cs
	namespace 	#
EvaluacionReservasHotel
 !
.! "
Controllers" -
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public		 

class		 *
ServiciosAdicionalesController		 /
:		0 1
ControllerBase		2 @
{

 
private 
readonly 
AppDBContext %
_appDbcontext& 3
;3 4
public *
ServiciosAdicionalesController -
(- .
AppDBContext. :
appDBContext; G
)G H
{ 	
_appDbcontext 
= 
appDBContext (
;( )
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (#
GetServiciosAdicionales) @
(@ A
)A B
{ 	
var  
serviciosAdicionales $
=% &
await' ,
_appDbcontext- :
.: ; 
ServiciosAdicionales; O
. 
Include 
( 
s 
=> 
s 
.  
Reserva  '
)' (
. 
ToListAsync 
( 
) 
; 
return 
Ok 
(  
serviciosAdicionales *
)* +
;+ ,
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' ( 
GetServicioAdicional) =
(= >
int> A
idB D
)D E
{ 	
var 
servicioAdicional !
=" #
await$ )
_appDbcontext* 7
.7 8 
ServiciosAdicionales8 L
.   
Include   
(   
s   
=>   
s   
.    
Reserva    '
)  ' (
.!! 
FirstOrDefaultAsync!! $
(!!$ %
s!!% &
=>!!' )
s!!* +
.!!+ ,
IdServicioAdicional!!, ?
==!!@ B
id!!C E
)!!E F
;!!F G
if"" 
("" 
servicioAdicional"" !
==""" $
null""% )
)"") *
{## 
return$$ 
NotFound$$ 
($$  
$str$$  8
)$$8 9
;$$9 :
}%% 
return&& 
Ok&& 
(&& 
servicioAdicional&& '
)&&' (
;&&( )
}'' 	
[** 	
HttpPost**	 
]** 
public++ 
async++ 
Task++ 
<++ 
IActionResult++ '
>++' (#
CreateServicioAdicional++) @
(++@ A
[++A B
FromBody++B J
]++J K
ServicioAdicional++L ]
servicioAdicional++^ o
)++o p
{,, 	
await-- 
_appDbcontext-- 
.--   
ServiciosAdicionales--  4
.--4 5
AddAsync--5 =
(--= >
servicioAdicional--> O
)--O P
;--P Q
await.. 
_appDbcontext.. 
...  
SaveChangesAsync..  0
(..0 1
)..1 2
;..2 3
return// 
Ok// 
(// 
new// 
{00 
servicioAdicional11 !
,11! "
mensaje22 
=22 
$str22 B
}33 
)33 
;33 
}44 	
[77 	
HttpPut77	 
(77 
$str77 
)77 
]77 
public88 
async88 
Task88 
<88 
IActionResult88 '
>88' (#
UpdateServicioAdicional88) @
(88@ A
int88A D
id88E G
,88G H
ServicioAdicional88I Z
servicioAdicional88[ l
)88l m
{99 	
if:: 
(:: 
id:: 
!=:: 
servicioAdicional:: '
.::' (
IdServicioAdicional::( ;
)::; <
{;; 
return<< 

BadRequest<< !
(<<! "
$str<<" ]
)<<] ^
;<<^ _
}== 
var?? #
existeServicioAdicional?? '
=??( )
await??* /
_appDbcontext??0 =
.??= > 
ServiciosAdicionales??> R
.??R S
	FindAsync??S \
(??\ ]
id??] _
)??_ `
;??` a
if@@ 
(@@ #
existeServicioAdicional@@ '
==@@( *
null@@+ /
)@@/ 0
{AA 
returnBB 
NotFoundBB 
(BB  
$strBB  B
)BBB C
;BBC D
}CC #
existeServicioAdicionalEE #
.EE# $
DescripcionEE$ /
=EE0 1
servicioAdicionalEE2 C
.EEC D
DescripcionEED O
;EEO P#
existeServicioAdicionalFF #
.FF# $
CostoFF$ )
=FF* +
servicioAdicionalFF, =
.FF= >
CostoFF> C
;FFC D#
existeServicioAdicionalGG #
.GG# $
	IdReservaGG$ -
=GG. /
servicioAdicionalGG0 A
.GGA B
	IdReservaGGB K
;GGK L
awaitHH 
_appDbcontextHH 
.HH  
SaveChangesAsyncHH  0
(HH0 1
)HH1 2
;HH2 3
returnJJ 
OkJJ 
(JJ 
newJJ 
{KK #
existeServicioAdicionalLL '
,LL' (
mensajeMM 
=MM 
$strMM G
}NN 
)NN 
;NN 
}OO 	
[RR 	

HttpDeleteRR	 
(RR 
$strRR 
)RR 
]RR 
publicSS 
asyncSS 
TaskSS 
<SS 
IActionResultSS '
>SS' (#
DeleteServicioAdicionalSS) @
(SS@ A
intSSA D
idSSE G
)SSG H
{TT 	
varUU 
servicioAdicionalUU !
=UU" #
awaitUU$ )
_appDbcontextUU* 7
.UU7 8 
ServiciosAdicionalesUU8 L
.UUL M
	FindAsyncUUM V
(UUV W
idUUW Y
)UUY Z
;UUZ [
ifVV 
(VV 
servicioAdicionalVV !
==VV" $
nullVV% )
)VV) *
{WW 
returnXX 
NotFoundXX 
(XX  
$strXX  B
)XXB C
;XXC D
}YY 
_appDbcontextZZ 
.ZZ  
ServiciosAdicionalesZZ .
.ZZ. /
RemoveZZ/ 5
(ZZ5 6
servicioAdicionalZZ6 G
)ZZG H
;ZZH I
await[[ 
_appDbcontext[[ 
.[[  
SaveChangesAsync[[  0
([[0 1
)[[1 2
;[[2 3
return\\ 
Ok\\ 
(\\ 
$"\\ 
$str\\ 2
{\\2 3
id\\3 5
}\\5 6
$str\\6 @
"\\@ A
)\\A B
;\\B C
}]] 	
}^^ 
}__ €f
xC:\Users\HP\source\repos\Evaluacion_U2\EvaluacionReservasHotel\EvaluacionReservasHotel\Controllers\ReservasController.cs
	namespace 	#
EvaluacionReservasHotel
 !
.! "
Controllers" -
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public		 

class		 
ReservasController		 #
:		$ %
ControllerBase		& 4
{

 
private 
readonly 
AppDBContext %
_appDbcontext& 3
;3 4
public 
ReservasController !
(! "
AppDBContext" .
appDBContext/ ;
); <
{ 	
_appDbcontext 
= 
appDBContext (
;( )
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetReservas) 4
(4 5
)5 6
{ 	
var 
reservas 
= 
await  
_appDbcontext! .
.. /
Reservas/ 7
. 
Include 
( 
r 
=> 
r 
.  
Cliente  '
)' (
. 
Include 
( 
r 
=> 
r 
.  

Habitacion  *
)* +
. 
Include 
( 
r 
=> 
r 
.   
ServiciosAdicionales  4
)4 5
. 
ToListAsync 
( 
) 
; 
return 
Ok 
( 
reservas 
) 
;  
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (

GetReserva) 3
(3 4
int4 7
id8 :
): ;
{   	
var!! 
reserva!! 
=!! 
await!! 
_appDbcontext!!  -
.!!- .
Reservas!!. 6
."" 
Include"" 
("" 
r"" 
=>"" 
r"" 
.""  
Cliente""  '
)""' (
.## 
Include## 
(## 
r## 
=>## 
r## 
.##  

Habitacion##  *
)##* +
.$$ 
Include$$ 
($$ 
r$$ 
=>$$ 
r$$ 
.$$   
ServiciosAdicionales$$  4
)$$4 5
.%% 
FirstOrDefaultAsync%% $
(%%$ %
r%%% &
=>%%' )
r%%* +
.%%+ ,
	IdReserva%%, 5
==%%6 8
id%%9 ;
)%%; <
;%%< =
if&& 
(&& 
reserva&& 
==&& 
null&& 
)&&  
{'' 
return(( 
NotFound(( 
(((  
$str((  7
)((7 8
;((8 9
})) 
return** 
Ok** 
(** 
reserva** 
)** 
;** 
}++ 	
[-- 	
HttpPost--	 
]-- 
public.. 
async.. 
Task.. 
<.. 
IActionResult.. '
>..' (
CreateReserva..) 6
(..6 7
Reserva..7 >
reserva..? F
)..F G
{// 	
if11 
(11 
reserva11 
.11 
FechaFin11  
<11! "
reserva11# *
.11* +
FechaInicio11+ 6
)116 7
{22 
return33 

BadRequest33 !
(33! "
$str33" V
)33V W
;33W X
}44 
var77 
habitacionExiste77  
=77! "
await77# (
_appDbcontext77) 6
.776 7
Habitaciones777 C
.88 
AnyAsync88 
(88 
h88 
=>88 
h88  
.88  !
IdHabitacion88! -
==88. 0
reserva881 8
.888 9
IdHabitacion889 E
)88E F
;88F G
if99 
(99 
!99 
habitacionExiste99 !
)99! "
{:: 
return;; 
NotFound;; 
(;;  
$str;;  G
);;G H
;;;H I
}<< 
var?? 
clienteExiste?? 
=?? 
await??  %
_appDbcontext??& 3
.??3 4
Clientes??4 <
.@@ 
AnyAsync@@ 
(@@ 
c@@ 
=>@@ 
c@@  
.@@  !
	IdCliente@@! *
==@@+ -
reserva@@. 5
.@@5 6
	IdCliente@@6 ?
)@@? @
;@@@ A
ifAA 
(AA 
!AA 
clienteExisteAA 
)AA 
{BB 
returnCC 
NotFoundCC 
(CC  
$strCC  D
)CCD E
;CCE F
}DD 
varGG 

conflictosGG 
=GG 
awaitGG "
_appDbcontextGG# 0
.GG0 1
ReservasGG1 9
.HH 
WhereHH 
(HH 
rHH 
=>HH 
rHH 
.HH 
IdHabitacionHH *
==HH+ -
reservaHH. 5
.HH5 6
IdHabitacionHH6 B
&&HHC E
(II 
(II 
reservaII %
.II% &
FechaInicioII& 1
>=II2 4
rII5 6
.II6 7
FechaInicioII7 B
&&IIC E
reservaIIF M
.IIM N
FechaInicioIIN Y
<IIZ [
rII\ ]
.II] ^
FechaFinII^ f
)IIf g
||IIh j
(JJ 
reservaJJ %
.JJ% &
FechaFinJJ& .
>JJ/ 0
rJJ1 2
.JJ2 3
FechaInicioJJ3 >
&&JJ? A
reservaJJB I
.JJI J
FechaFinJJJ R
<=JJS U
rJJV W
.JJW X
FechaFinJJX `
)JJ` a
||JJb d
(KK 
reservaKK %
.KK% &
FechaInicioKK& 1
<=KK2 4
rKK5 6
.KK6 7
FechaInicioKK7 B
&&KKC E
reservaKKF M
.KKM N
FechaFinKKN V
>=KKW Y
rKKZ [
.KK[ \
FechaFinKK\ d
)KKd e
)KKe f
)KKf g
.LL 
ToListAsyncLL 
(LL 
)LL 
;LL 
ifMM 
(MM 

conflictosMM 
.MM 
CountMM  
>MM! "
$numMM# $
)MM$ %
{NN 
returnOO 
ConflictOO 
(OO  
$strOO  \
)OO\ ]
;OO] ^
}PP 
_appDbcontextSS 
.SS 
ReservasSS "
.SS" #
AddSS# &
(SS& '
reservaSS' .
)SS. /
;SS/ 0
awaitTT 
_appDbcontextTT 
.TT  
SaveChangesAsyncTT  0
(TT0 1
)TT1 2
;TT2 3
returnVV 
OkVV 
(VV 
newVV 
{WW 
reservaXX 
,XX 
mensajeYY 
=YY 
$strYY 8
}ZZ 
)ZZ 
;ZZ 
}[[ 	
[]] 	
HttpPut]]	 
(]] 
$str]] 
)]] 
]]] 
public^^ 
async^^ 
Task^^ 
<^^ 
IActionResult^^ '
>^^' (
UpdateReserva^^) 6
(^^6 7
int^^7 :
id^^; =
,^^= >
Reserva^^? F
reserva^^G N
)^^N O
{__ 	
ifaa 
(aa 
idaa 
!=aa 
reservaaa 
.aa 
	IdReservaaa '
)aa' (
{bb 
returncc 

BadRequestcc !
(cc! "
$strcc" D
)ccD E
;ccE F
}dd 
ifgg 
(gg 
reservagg 
.gg 
FechaFingg  
<gg! "
reservagg# *
.gg* +
FechaIniciogg+ 6
)gg6 7
{hh 
returnii 

BadRequestii !
(ii! "
$strii" V
)iiV W
;iiW X
}jj 
varmm 
reservaExistentemm  
=mm! "
awaitmm# (
_appDbcontextmm) 6
.mm6 7
Reservasmm7 ?
.mm? @
	FindAsyncmm@ I
(mmI J
idmmJ L
)mmL M
;mmM N
ifnn 
(nn 
reservaExistentenn  
==nn! #
nullnn$ (
)nn( )
{oo 
returnpp 
NotFoundpp 
(pp  
$strpp  8
)pp8 9
;pp9 :
}qq 
vartt 

conflictostt 
=tt 
awaittt "
_appDbcontexttt# 0
.tt0 1
Reservastt1 9
.uu 
Whereuu 
(uu 
ruu 
=>uu 
ruu 
.uu 
IdHabitacionuu *
==uu+ -
reservauu. 5
.uu5 6
IdHabitacionuu6 B
&&uuC E
rvv 
.vv 
	IdReservavv '
!=vv( *
idvv+ -
&&vv. 0
(ww 
(ww 
reservaww %
.ww% &
FechaInicioww& 1
>=ww2 4
rww5 6
.ww6 7
FechaInicioww7 B
&&wwC E
reservawwF M
.wwM N
FechaIniciowwN Y
<wwZ [
rww\ ]
.ww] ^
FechaFinww^ f
)wwf g
||wwh j
(xx 
reservaxx %
.xx% &
FechaFinxx& .
>xx/ 0
rxx1 2
.xx2 3
FechaInicioxx3 >
&&xx? A
reservaxxB I
.xxI J
FechaFinxxJ R
<=xxS U
rxxV W
.xxW X
FechaFinxxX `
)xx` a
||xxb d
(yy 
reservayy %
.yy% &
FechaInicioyy& 1
<=yy2 4
ryy5 6
.yy6 7
FechaInicioyy7 B
&&yyC E
reservayyF M
.yyM N
FechaFinyyN V
>=yyW Y
ryyZ [
.yy[ \
FechaFinyy\ d
)yyd e
)yye f
)yyf g
.zz 
ToListAsynczz 
(zz 
)zz 
;zz 
if|| 
(|| 

conflictos|| 
.|| 
Count||  
>||! "
$num||# $
)||$ %
{}} 
return~~ 
Conflict~~ 
(~~  
$str~~  \
)~~\ ]
;~~] ^
} 
reservaExistente
ÇÇ 
.
ÇÇ 
FechaInicio
ÇÇ (
=
ÇÇ) *
reserva
ÇÇ+ 2
.
ÇÇ2 3
FechaInicio
ÇÇ3 >
;
ÇÇ> ?
reservaExistente
ÉÉ 
.
ÉÉ 
FechaFin
ÉÉ %
=
ÉÉ& '
reserva
ÉÉ( /
.
ÉÉ/ 0
FechaFin
ÉÉ0 8
;
ÉÉ8 9
reservaExistente
ÑÑ 
.
ÑÑ 
PrecioTotal
ÑÑ (
=
ÑÑ) *
reserva
ÑÑ+ 2
.
ÑÑ2 3
PrecioTotal
ÑÑ3 >
;
ÑÑ> ?
await
ÜÜ 
_appDbcontext
ÜÜ 
.
ÜÜ  
SaveChangesAsync
ÜÜ  0
(
ÜÜ0 1
)
ÜÜ1 2
;
ÜÜ2 3
return
àà 
Ok
àà 
(
àà 
new
àà 
{
ââ 
reservaExistente
ää  
,
ää  !
mensaje
ãã 
=
ãã 
$str
ãã =
}
åå 
)
åå 
;
åå 
}
çç 	
[
ëë 	

HttpDelete
ëë	 
(
ëë 
$str
ëë 
)
ëë 
]
ëë 
public
íí 
async
íí 
Task
íí 
<
íí 
IActionResult
íí '
>
íí' (
DeleteReserva
íí) 6
(
íí6 7
int
íí7 :
id
íí; =
)
íí= >
{
ìì 	
var
îî 
reserva
îî 
=
îî 
await
îî 
_appDbcontext
îî  -
.
îî- .
Reservas
îî. 6
.
îî6 7
	FindAsync
îî7 @
(
îî@ A
id
îîA C
)
îîC D
;
îîD E
if
ïï 
(
ïï 
reserva
ïï 
==
ïï 
null
ïï 
)
ïï  
{
ññ 
return
óó 
NotFound
óó 
(
óó  
$str
óó  8
)
óó8 9
;
óó9 :
}
òò 
_appDbcontext
ôô 
.
ôô 
Reservas
ôô "
.
ôô" #
Remove
ôô# )
(
ôô) *
reserva
ôô* 1
)
ôô1 2
;
ôô2 3
await
öö 
_appDbcontext
öö 
.
öö  
SaveChangesAsync
öö  0
(
öö0 1
)
öö1 2
;
öö2 3
return
õõ 
Ok
õõ 
(
õõ 
$"
õõ 
$str
õõ '
{
õõ' (
id
õõ( *
}
õõ* +
$str
õõ+ C
"
õõC D
)
õõD E
;
õõE F
}
úú 	
}
ùù 
}ûû Ü=
|C:\Users\HP\source\repos\Evaluacion_U2\EvaluacionReservasHotel\EvaluacionReservasHotel\Controllers\HabitacionesController.cs
	namespace 	#
EvaluacionReservasHotel
 !
.! "
Controllers" -
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public		 

class		 "
HabitacionesController		 '
:		( )
ControllerBase		* 8
{

 
private 
readonly 
AppDBContext %
_appDbcontext& 3
;3 4
public "
HabitacionesController %
(% &
AppDBContext& 2
appDBContext3 ?
)? @
{ 	
_appDbcontext 
= 
appDBContext (
;( )
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetHabitaciones) 8
(8 9
)9 :
{ 	
var 
habitaciones 
= 
await $
_appDbcontext% 2
.2 3
Habitaciones3 ?
.? @
ToListAsync@ K
(K L
)L M
;M N
return 
Ok 
( 
habitaciones "
)" #
;# $
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetHabitacion) 6
(6 7
int7 :
id; =
)= >
{ 	
var 

habitacion 
= 
await "
_appDbcontext# 0
.0 1
Habitaciones1 =
.= >
	FindAsync> G
(G H
idH J
)J K
;K L
if 
( 

habitacion 
== 
null "
)" #
{   
return!! 
NotFound!! 
(!!  
$str!!  r
)!!r s
;!!s t
}"" 
return## 
Ok## 
(## 

habitacion##  
)##  !
;##! "
}$$ 	
['' 	
HttpPost''	 
]'' 
public(( 
async(( 
Task(( 
<(( 
IActionResult(( '
>((' (
CreateHabitacion(() 9
(((9 :

Habitacion((: D

habitacion((E O
)((O P
{)) 	
bool++ 
existeHabitacion++ !
=++" #
await++$ )
_appDbcontext++* 7
.++7 8
Habitaciones++8 D
.,, 
AnyAsync,, 
(,, 
h,, 
=>,, 
h,,  
.,,  !
NumeroHabitacion,,! 1
==,,2 4

habitacion,,5 ?
.,,? @
NumeroHabitacion,,@ P
),,P Q
;,,Q R
if.. 
(.. 
existeHabitacion..  
)..  !
{// 
return00 
Conflict00 
(00  
$str00  e
)00e f
;00f g
}11 
_appDbcontext44 
.44 
Habitaciones44 &
.44& '
Add44' *
(44* +

habitacion44+ 5
)445 6
;446 7
await55 
_appDbcontext55 
.55  
SaveChangesAsync55  0
(550 1
)551 2
;552 3
return77 
Ok77 
(77 
new77 
{88 

habitacion99 
,99 
mensaje:: 
=:: 
$str:: ;
};; 
);; 
;;; 
}<< 	
[AA 	
HttpPutAA	 
(AA 
$strAA 
)AA 
]AA 
publicBB 
asyncBB 
TaskBB 
<BB 
IActionResultBB '
>BB' (
EditHabitacionBB) 7
(BB7 8
intBB8 ;
idBB< >
,BB> ?

HabitacionBB@ J

habitacionBBK U
)BBU V
{CC 	
ifDD 
(DD 
idDD 
!=DD 

habitacionDD  
.DD  !
IdHabitacionDD! -
)DD- .
{EE 
returnFF 

BadRequestFF !
(FF! "
$strFF" [
)FF[ \
;FF\ ]
}GG 
varHH 
habitacionExistenteHH #
=HH$ %
awaitHH& +
_appDbcontextHH, 9
.HH9 :
HabitacionesHH: F
.HHF G
	FindAsyncHHG P
(HHP Q
idHHQ S
)HHS T
;HHT U
ifII 
(II 
habitacionExistenteII #
==II$ &
nullII' +
)II+ ,
{JJ 
returnKK 
NotFoundKK 
(KK  
$strKK  s
)KKs t
;KKt u
}LL 
habitacionExistenteNN 
.NN  
NumeroHabitacionNN  0
=NN1 2

habitacionNN3 =
.NN= >
NumeroHabitacionNN> N
;NNN O
habitacionExistenteOO 
.OO  
TipoHabitacionOO  .
=OO/ 0

habitacionOO1 ;
.OO; <
TipoHabitacionOO< J
;OOJ K
habitacionExistentePP 
.PP  
PrecioPorNochePP  .
=PP/ 0

habitacionPP1 ;
.PP; <
PrecioPorNochePP< J
;PPJ K
awaitQQ 
_appDbcontextQQ 
.QQ  
SaveChangesAsyncQQ  0
(QQ0 1
)QQ1 2
;QQ2 3
returnSS 
OkSS 
(SS 
newSS 
{TT 
habitacionExistenteUU #
,UU# $
mensajeVV 
=VV 
$strVV <
}WW 
)WW 
;WW 
}XX 	
[[[ 	

HttpDelete[[	 
([[ 
$str[[ 
)[[ 
][[ 
public\\ 
async\\ 
Task\\ 
<\\ 
IActionResult\\ '
>\\' (
DeleteHabitacion\\) 9
(\\9 :
int\\: =
id\\> @
)\\@ A
{]] 	
var__ 

habitacion__ 
=__ 
await__ "
_appDbcontext__# 0
.__0 1
Habitaciones__1 =
.__= >
	FindAsync__> G
(__G H
id__H J
)__J K
;__K L
if`` 
(`` 

habitacion`` 
==`` 
null`` "
)``" #
{aa 
returnbb 
NotFoundbb 
(bb  
$strbb  s
)bbs t
;bbt u
}cc 
boolff 
tieneReservasff 
=ff  
awaitff! &
_appDbcontextff' 4
.ff4 5
Reservasff5 =
.ff= >
AnyAsyncff> F
(ffF G
rffG H
=>ffI K
rffL M
.ffM N
IdHabitacionffN Z
==ff[ ]
idff^ `
)ff` a
;ffa b
ifgg 
(gg 
tieneReservasgg 
)gg 
{hh 
returnii 

BadRequestii !
(ii! "
$strii" s
)iis t
;iit u
}jj 
_appDbcontextmm 
.mm 
Habitacionesmm &
.mm& '
Removemm' -
(mm- .

habitacionmm. 8
)mm8 9
;mm9 :
awaitnn 
_appDbcontextnn 
.nn  
SaveChangesAsyncnn  0
(nn0 1
)nn1 2
;nn2 3
returnpp 
Okpp 
(pp 
$"pp 
$strpp *
{pp* +
idpp+ -
}pp- .
$strpp. B
"ppB C
)ppC D
;ppD E
}qq 	
}rr 
}ss ∞Z
xC:\Users\HP\source\repos\Evaluacion_U2\EvaluacionReservasHotel\EvaluacionReservasHotel\Controllers\ClientesController.cs
	namespace 	#
EvaluacionReservasHotel
 !
.! "
Controllers" -
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public		 

class		 
ClientesController		 #
:		$ %
ControllerBase		& 4
{

 
private 
readonly 
AppDBContext %
_appDbContext& 3
;3 4
public 
ClientesController !
(! "
AppDBContext" .
appDbContext/ ;
); <
{ 	
_appDbContext 
= 
appDbContext (
;( )
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetClientes) 4
(4 5
)5 6
{ 	
var 
clientes 
= 
await  
_appDbContext! .
.. /
Clientes/ 7
.7 8
ToListAsync8 C
(C D
)D E
;E F
return 
Ok 
( 
clientes 
) 
;  
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (

GetCliente) 3
(3 4
int4 7
id8 :
): ;
{ 	
var 
cliente 
= 
await 
_appDbContext  -
.- .
Clientes. 6
.6 7
	FindAsync7 @
(@ A
idA C
)C D
;D E
if 
( 
cliente 
== 
null 
)  
{   
return!! 
NotFound!! 
(!!  
$str!!  k
)!!k l
;!!l m
}"" 
return## 
Ok## 
(## 
cliente## 
)## 
;## 
}$$ 	
['' 	
HttpPost''	 
]'' 
public(( 
async(( 
Task(( 
<(( 
IActionResult(( '
>((' (
CreateCliente(() 6
(((6 7
Cliente((7 >
cliente((? F
)((F G
{)) 	
if++ 
(++ 
string++ 
.++ 
IsNullOrEmpty++ $
(++$ %
cliente++% ,
.++, -
Cedula++- 3
)++3 4
)++4 5
return,, 

BadRequest,, !
(,,! "
$str,," =
),,= >
;,,> ?
if// 
(// 
!// 
EsCedulaValida// 
(//  
cliente//  '
.//' (
Cedula//( .
)//. /
)/// 0
return00 

BadRequest00 !
(00! "
$str00" I
)00I J
;00J K
bool33 
existeCedula33 
=33 
await33  %
_appDbContext33& 3
.333 4
Clientes334 <
.33< =
AnyAsync33= E
(33E F
c33F G
=>33H J
c33K L
.33L M
Cedula33M S
==33T V
cliente33W ^
.33^ _
Cedula33_ e
)33e f
;33f g
if44 
(44 
existeCedula44 
)44 
return55 
Conflict55 
(55  
$str55  K
)55K L
;55L M
_appDbContext77 
.77 
Clientes77 "
.77" #
Add77# &
(77& '
cliente77' .
)77. /
;77/ 0
await88 
_appDbContext88 
.88  
SaveChangesAsync88  0
(880 1
)881 2
;882 3
return99 
Ok99 
(99 
new99 
{:: 
cliente;; 
,;; 
mensaje<< 
=<< 
$str<< 8
}== 
)== 
;== 
}>> 	
[BB 	
HttpPutBB	 
(BB 
$strBB 
)BB 
]BB 
publicCC 
asyncCC 
TaskCC 
<CC 
IActionResultCC '
>CC' (
EditClienteCC) 4
(CC4 5
intCC5 8
idCC9 ;
,CC; <
ClienteCC= D
clienteCCE L
)CCL M
{DD 	
ifEE 
(EE 
idEE 
!=EE 
clienteEE 
.EE 
	IdClienteEE &
)EE& '
{FF 
returnGG 

BadRequestGG !
(GG! "
$strGG" U
)GGU V
;GGV W
}HH 
varII 
clienteExistenteII  
=II! "
awaitII# (
_appDbContextII) 6
.II6 7
ClientesII7 ?
.II? @
	FindAsyncII@ I
(III J
idIIJ L
)IIL M
;IIM N
ifJJ 
(JJ 
clienteExistenteJJ  
==JJ! #
nullJJ$ (
)JJ( )
{KK 
returnLL 
NotFoundLL 
(LL  
$strLL  k
)LLk l
;LLl m
}MM 
clienteExistenteNN 
.NN 
NombreNN #
=NN$ %
clienteNN& -
.NN- .
NombreNN. 4
;NN4 5
clienteExistenteOO 
.OO 
ApellidoOO %
=OO& '
clienteOO( /
.OO/ 0
ApellidoOO0 8
;OO8 9
clienteExistentePP 
.PP 
EmailPP "
=PP# $
clientePP% ,
.PP, -
EmailPP- 2
;PP2 3
clienteExistenteQQ 
.QQ 
TelefonoQQ %
=QQ& '
clienteQQ( /
.QQ/ 0
TelefonoQQ0 8
;QQ8 9
awaitSS 
_appDbContextSS 
.SS  
SaveChangesAsyncSS  0
(SS0 1
)SS1 2
;SS2 3
returnTT 
OkTT 
(TT 
newTT 
{UU 
clienteVV 
,VV 
mensajeWW 
=WW 
$strWW =
}XX 
)XX 
;XX 
}YY 	
[\\ 	

HttpDelete\\	 
(\\ 
$str\\ 
)\\ 
]\\ 
public]] 
async]] 
Task]] 
<]] 
IActionResult]] '
>]]' (
DeleteCliente]]) 6
(]]6 7
int]]7 :
id]]; =
)]]= >
{^^ 	
var`` 
cliente`` 
=`` 
await`` 
_appDbContext``  -
.``- .
Clientes``. 6
.``6 7
	FindAsync``7 @
(``@ A
id``A C
)``C D
;``D E
ifaa 
(aa 
clienteaa 
==aa 
nullaa 
)aa  
{bb 
returncc 
NotFoundcc 
(cc  
$strcc  k
)cck l
;ccl m
}dd 
boolgg 
tieneReservasgg 
=gg  
awaitgg! &
_appDbContextgg' 4
.gg4 5
Reservasgg5 =
.gg= >
AnyAsyncgg> F
(ggF G
rggG H
=>ggI K
rggL M
.ggM N
	IdClienteggN W
==ggX Z
idgg[ ]
)gg] ^
;gg^ _
ifhh 
(hh 
tieneReservashh 
)hh 
{ii 
returnjj 

BadRequestjj !
(jj! "
$strjj" f
)jjf g
;jjg h
}kk 
_appDbContextnn 
.nn 
Clientesnn "
.nn" #
Removenn# )
(nn) *
clientenn* 1
)nn1 2
;nn2 3
awaitoo 
_appDbContextoo 
.oo  
SaveChangesAsyncoo  0
(oo0 1
)oo1 2
;oo2 3
returnpp 
Okpp 
(pp 
$"pp 
$strpp '
{pp' (
idpp( *
}pp* +
$strpp+ ?
"pp? @
)pp@ A
;ppA B
}qq 	
publicss 
staticss 
boolss 
EsCedulaValidass )
(ss) *
stringss* 0
cedulass1 7
)ss7 8
{tt 	
ifuu 
(uu 
cedulauu 
.uu 
Lengthuu 
!=uu  
$numuu! #
||uu$ &
!uu' (
intuu( +
.uu+ ,
TryParseuu, 4
(uu4 5
cedulauu5 ;
,uu; <
outuu= @
_uuA B
)uuB C
)uuC D
returnvv 
falsevv 
;vv 
intxx 
sumaxx 
=xx 
$numxx 
;xx 
intyy 
tercerDigitoyy 
=yy 
intyy "
.yy" #
Parseyy# (
(yy( )
cedulayy) /
.yy/ 0
	Substringyy0 9
(yy9 :
$numyy: ;
,yy; <
$numyy= >
)yy> ?
)yy? @
;yy@ A
if{{ 
({{ 
tercerDigito{{ 
>={{ 
$num{{  !
){{! "
return|| 
false|| 
;|| 
for~~ 
(~~ 
int~~ 
i~~ 
=~~ 
$num~~ 
;~~ 
i~~ 
<~~ 
$num~~  !
;~~! "
i~~# $
++~~$ &
)~~& '
{ 
int
ÄÄ 
digito
ÄÄ 
=
ÄÄ 
int
ÄÄ  
.
ÄÄ  !
Parse
ÄÄ! &
(
ÄÄ& '
cedula
ÄÄ' -
.
ÄÄ- .
	Substring
ÄÄ. 7
(
ÄÄ7 8
i
ÄÄ8 9
,
ÄÄ9 :
$num
ÄÄ; <
)
ÄÄ< =
)
ÄÄ= >
;
ÄÄ> ?
if
ÅÅ 
(
ÅÅ 
i
ÅÅ 
%
ÅÅ 
$num
ÅÅ 
==
ÅÅ 
$num
ÅÅ 
)
ÅÅ 
{
ÇÇ 
digito
ÉÉ 
*=
ÉÉ 
$num
ÉÉ 
;
ÉÉ  
if
ÑÑ 
(
ÑÑ 
digito
ÑÑ 
>
ÑÑ  
$num
ÑÑ! "
)
ÑÑ" #
digito
ÖÖ 
-=
ÖÖ !
$num
ÖÖ" #
;
ÖÖ# $
}
ÜÜ 
suma
áá 
+=
áá 
digito
áá 
;
áá 
}
àà 
int
ää 
ultimoDigito
ää 
=
ää 
int
ää "
.
ää" #
Parse
ää# (
(
ää( )
cedula
ää) /
.
ää/ 0
	Substring
ää0 9
(
ää9 :
$num
ää: ;
,
ää; <
$num
ää= >
)
ää> ?
)
ää? @
;
ää@ A
int
ãã 
decenaSuperior
ãã 
=
ãã  
(
ãã! "
(
ãã" #
suma
ãã# '
/
ãã( )
$num
ãã* ,
)
ãã, -
+
ãã. /
$num
ãã0 1
)
ãã1 2
*
ãã3 4
$num
ãã5 7
;
ãã7 8
int
åå 
digitoValidador
åå 
=
åå  !
decenaSuperior
åå" 0
-
åå1 2
suma
åå3 7
;
åå7 8
if
éé 
(
éé 
digitoValidador
éé 
==
éé  "
$num
éé# %
)
éé% &
digitoValidador
èè 
=
èè  !
$num
èè" #
;
èè# $
return
ëë 
digitoValidador
ëë "
==
ëë# %
ultimoDigito
ëë& 2
;
ëë2 3
}
íí 	
}
ìì 
}îî ñ«
fC:\Users\HP\source\repos\Evaluacion_U2\EvaluacionReservasHotel\EvaluacionReservasHotel\AppDBContext.cs
	namespace 	#
EvaluacionReservasHotel
 !
{ 
public 

class 
AppDBContext 
: 
	DbContext  )
{		 
public

 
AppDBContext

 
(

 
DbContextOptions

 ,
<

, -
AppDBContext

- 9
>

9 :
options

; B
)

B C
:

D E
base

F J
(

J K
options

K R
)

R S
{

T U
}

V W
public 
DbSet 
< 
Cliente 
> 
Clientes &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DbSet 
< 

Habitacion 
>  
Habitaciones! -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 
DbSet 
< 
Reserva 
> 
Reservas &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DbSet 
< 
ServicioAdicional &
>& ' 
ServiciosAdicionales( <
{= >
get? B
;B C
setD G
;G H
}I J
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
Cliente  '
>' (
(( )
)) *
. 
Property 
( 
p 
=> 
p  
.  !
	IdCliente! *
)* +
. 
ValueGeneratedOnAdd $
($ %
)% &
;& '
modelBuilder 
. 
Entity 
<  

Habitacion  *
>* +
(+ ,
), -
. 
Property 
( 
p 
=> 
p  
.  !
IdHabitacion! -
)- .
. 
ValueGeneratedOnAdd $
($ %
)% &
;& '
modelBuilder 
. 
Entity 
<  
Reserva  '
>' (
(( )
)) *
. 
Property 
( 
p 
=> 
p  
.  !
	IdReserva! *
)* +
. 
ValueGeneratedOnAdd $
($ %
)% &
;& '
modelBuilder!! 
.!! 
Entity!! 
<!!  
ServicioAdicional!!  1
>!!1 2
(!!2 3
)!!3 4
."" 
Property"" 
("" 
p"" 
=>"" 
p""  
.""  !
IdServicioAdicional""! 4
)""4 5
.## 
ValueGeneratedOnAdd## $
(##$ %
)##% &
;##& '
modelBuilder'' 
.'' 
Entity'' 
<''  
Reserva''  '
>''' (
(''( )
)'') *
.(( 
HasKey(( 
((( 
r(( 
=>(( 
r(( 
.(( 
	IdReserva(( (
)((( )
;(() *
modelBuilder** 
.** 
Entity** 
<**  
ServicioAdicional**  1
>**1 2
(**2 3
)**3 4
.++ 
HasKey++ 
(++ 
sa++ 
=>++ 
sa++  
.++  !
IdServicioAdicional++! 4
)++4 5
;++5 6
modelBuilder-- 
.-- 
Entity-- 
<--  

Habitacion--  *
>--* +
(--+ ,
)--, -
... 
HasKey.. 
(.. 
h.. 
=>.. 
h.. 
... 
IdHabitacion.. +
)..+ ,
;.., -
modelBuilder00 
.00 
Entity00 
<00  
Cliente00  '
>00' (
(00( )
)00) *
.11 
HasKey11 
(11 
c11 
=>11 
c11 
.11 
	IdCliente11 (
)11( )
;11) *
modelBuilder33 
.33 
Entity33 
<33  
Reserva33  '
>33' (
(33( )
)33) *
.44 
HasOne44 
<44 
Cliente44 
>44  
(44  !
r44! "
=>44# %
r44& '
.44' (
Cliente44( /
)44/ 0
.55 
WithMany55 
(55 
)55 
.66 
HasForeignKey66 
(66 
r66  
=>66! #
r66$ %
.66% &
	IdCliente66& /
)66/ 0
;660 1
modelBuilder88 
.88 
Entity88 
<88  
Reserva88  '
>88' (
(88( )
)88) *
.99 
HasOne99 
<99 

Habitacion99 "
>99" #
(99# $
r99$ %
=>99& (
r99) *
.99* +

Habitacion99+ 5
)995 6
.:: 
WithMany:: 
(:: 
):: 
.;; 
HasForeignKey;; 
(;; 
r;;  
=>;;! #
r;;$ %
.;;% &
IdHabitacion;;& 2
);;2 3
;;;3 4
modelBuilder== 
.== 
Entity== 
<==  
Reserva==  '
>==' (
(==( )
)==) *
.>> 
HasMany>> 
<>> 
ServicioAdicional>> *
>>>* +
(>>+ ,
r>>, -
=>>>. 0
r>>1 2
.>>2 3 
ServiciosAdicionales>>3 G
)>>G H
.?? 
WithOne?? 
(?? 
sa?? 
=>?? 
sa?? !
.??! "
Reserva??" )
)??) *
.@@ 
HasForeignKey@@ 
(@@ 
sa@@ !
=>@@" $
sa@@% '
.@@' (
	IdReserva@@( 1
)@@1 2
;@@2 3
modelBuilderCC 
.CC 
EntityCC 
<CC  
ReservaCC  '
>CC' (
(CC( )
)CC) *
.DD 
HasManyDD 
(DD 
rDD 
=>DD 
rDD 
.DD   
ServiciosAdicionalesDD  4
)DD4 5
.EE 
WithOneEE 
(EE 
saEE 
=>EE 
saEE !
.EE! "
ReservaEE" )
)EE) *
.FF 
HasForeignKeyFF 
(FF 
saFF !
=>FF" $
saFF% '
.FF' (
	IdReservaFF( 1
)FF1 2
.GG 
OnDeleteGG 
(GG 
DeleteBehaviorGG (
.GG( )
CascadeGG) 0
)GG0 1
;GG1 2
modelBuilderJJ 
.JJ 
EntityJJ 
<JJ  
ServicioAdicionalJJ  1
>JJ1 2
(JJ2 3
)JJ3 4
.KK 
HasOneKK 
(KK 
saKK 
=>KK 
saKK  
.KK  !
ReservaKK! (
)KK( )
.LL 
WithManyLL 
(LL 
rLL 
=>LL 
rLL  
.LL  ! 
ServiciosAdicionalesLL! 5
)LL5 6
.MM 
HasForeignKeyMM 
(MM 
saMM !
=>MM" $
saMM% '
.MM' (
	IdReservaMM( 1
)MM1 2
;MM2 3
}NN 	
}OO 
publicQQ 

classQQ 
ClienteQQ 
{RR 
publicSS 
requiredSS 
intSS 
	IdClienteSS %
{SS& '
getSS( +
;SS+ ,
setSS- 0
;SS0 1
}SS2 3
[UU 	
RequiredUU	 
(UU 
ErrorMessageUU 
=UU  
$strUU! <
)UU< =
]UU= >
[VV 	
RegularExpressionVV	 
(VV 
$strVV +
,VV+ ,
ErrorMessageVV- 9
=VV: ;
$strVV< m
)VVm n
]VVn o
[WW 	
StringLengthWW	 
(WW 
$numWW 
,WW 
ErrorMessageWW &
=WW' (
$strWW) W
)WWW X
]WWX Y
publicXX 
stringXX 
?XX 
NombreXX 
{XX 
getXX  #
;XX# $
setXX% (
;XX( )
}XX* +
[ZZ 	
RequiredZZ	 
(ZZ 
ErrorMessageZZ 
=ZZ  
$strZZ! >
)ZZ> ?
]ZZ? @
[[[ 	
RegularExpression[[	 
([[ 
$str[[ +
,[[+ ,
ErrorMessage[[- 9
=[[: ;
$str[[< m
)[[m n
][[n o
[\\ 	
StringLength\\	 
(\\ 
$num\\ 
,\\ 
ErrorMessage\\ &
=\\' (
$str\\) Y
)\\Y Z
]\\Z [
public]] 
string]] 
?]] 
Apellido]] 
{]]  !
get]]" %
;]]% &
set]]' *
;]]* +
}]], -
[__ 	
Required__	 
(__ 
ErrorMessage__ 
=__  
$str__! :
)__: ;
]__; <
[`` 	
Range``	 
(`` 
$num`` 
,`` 
$num`` 
,`` 
ErrorMessage`` #
=``$ %
$str``& g
)``g h
]``h i
[aa 	
RegularExpressionaa	 
(aa 
$straa #
,aa# $
ErrorMessageaa% 1
=aa2 3
$straa4 X
)aaX Y
]aaY Z
publicbb 
intbb 
?bb 
Edadbb 
{bb 
getbb 
;bb 
setbb  #
;bb# $
}bb% &
[dd 	
Requireddd	 
(dd 
ErrorMessagedd 
=dd  
$strdd! ;
)dd; <
]dd< =
[ee 	
EmailAddressee	 
(ee 
ErrorMessageee "
=ee# $
$stree% =
)ee= >
]ee> ?
publicff 
stringff 
?ff 
Emailff 
{ff 
getff "
;ff" #
setff$ '
;ff' (
}ff) *
[hh 	
Requiredhh	 
(hh 
ErrorMessagehh 
=hh  
$strhh! ?
)hh? @
]hh@ A
[ii 	
StringLengthii	 
(ii 
$numii 
,ii 
ErrorMessageii '
=ii( )
$strii* \
)ii\ ]
]ii] ^
publicjj 
stringjj 
?jj 
	Direccionjj  
{jj! "
getjj# &
;jj& '
setjj( +
;jj+ ,
}jj- .
[ll 	
Requiredll	 
(ll 
ErrorMessagell 
=ll  
$strll! <
)ll< =
]ll= >
[mm 	
RegularExpressionmm	 
(mm 
$strmm &
,mm& '
ErrorMessagemm( 4
=mm5 6
$strmm7 h
)mmh i
]mmi j
publicnn 
stringnn 
?nn 
Cedulann 
{nn 
getnn  #
;nn# $
setnn% (
;nn( )
}nn* +
[pp 	
Requiredpp	 
(pp 
ErrorMessagepp 
=pp  
$strpp! >
)pp> ?
]pp? @
[qq 	
RegularExpressionqq	 
(qq 
$strqq &
,qq& '
ErrorMessageqq( 4
=qq5 6
$strqq7 j
)qqj k
]qqk l
publicrr 
stringrr 
?rr 
Telefonorr 
{rr  !
getrr" %
;rr% &
setrr' *
;rr* +
}rr, -
}ss 
publicuu 

classuu 

Habitacionuu 
{vv 
publicww 
requiredww 
intww 
IdHabitacionww (
{ww) *
getww+ .
;ww. /
setww0 3
;ww3 4
}ww5 6
[yy 	
Requiredyy	 
(yy 
ErrorMessageyy 
=yy  
$stryy! J
)yyJ K
]yyK L
[zz 	
RegularExpressionzz	 
(zz 
$strzz %
,zz% &
ErrorMessagezz' 3
=zz4 5
$strzz6 w
)zzw x
]zzx y
public{{ 
string{{ 
?{{ 
NumeroHabitacion{{ '
{{{( )
get{{* -
;{{- .
set{{/ 2
;{{2 3
}{{4 5
[}} 	
Required}}	 
(}} 
ErrorMessage}} 
=}}  
$str}}! H
)}}H I
]}}I J
[~~ 	
RegularExpression~~	 
(~~ 
$str~~ +
,~~+ ,
ErrorMessage~~- 9
=~~: ;
$str~~< t
)~~t u
]~~u v
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage &
=' (
$str) c
)c d
]d e
public
ÄÄ 
string
ÄÄ 
?
ÄÄ 
TipoHabitacion
ÄÄ %
{
ÄÄ& '
get
ÄÄ( +
;
ÄÄ+ ,
set
ÄÄ- 0
;
ÄÄ0 1
}
ÄÄ2 3
[
ÇÇ 	
Required
ÇÇ	 
(
ÇÇ 
ErrorMessage
ÇÇ 
=
ÇÇ  
$str
ÇÇ! F
)
ÇÇF G
]
ÇÇG H
[
ÉÉ 	
RegularExpression
ÉÉ	 
(
ÉÉ 
$str
ÉÉ -
,
ÉÉ- .
ErrorMessage
ÉÉ/ ;
=
ÉÉ< =
$str
ÉÉ> n
)
ÉÉn o
]
ÉÉo p
[
ÑÑ 	
Range
ÑÑ	 
(
ÑÑ 
$num
ÑÑ 
,
ÑÑ 
double
ÑÑ 
.
ÑÑ 
MaxValue
ÑÑ $
,
ÑÑ$ %
ErrorMessage
ÑÑ& 2
=
ÑÑ3 4
$str
ÑÑ5 ^
)
ÑÑ^ _
]
ÑÑ_ `
public
ÖÖ 
decimal
ÖÖ 
?
ÖÖ 
PrecioPorNoche
ÖÖ &
{
ÖÖ' (
get
ÖÖ) ,
;
ÖÖ, -
set
ÖÖ. 1
;
ÖÖ1 2
}
ÖÖ3 4
}
ÜÜ 
public
àà 

class
àà 
Reserva
àà 
{
ââ 
public
ää 
required
ää 
int
ää 
	IdReserva
ää %
{
ää& '
get
ää( +
;
ää+ ,
set
ää- 0
;
ää0 1
}
ää2 3
[
åå 	
Required
åå	 
(
åå 
ErrorMessage
åå 
=
åå  
$str
åå! D
)
ååD E
]
ååE F
[
çç 	
RegularExpression
çç	 
(
çç 
$str
çç #
,
çç# $
ErrorMessage
çç% 1
=
çç2 3
$str
çç4 b
)
ççb c
]
ççc d
[
éé 	
Range
éé	 
(
éé 
$num
éé 
,
éé 
int
éé 
.
éé 
MaxValue
éé 
,
éé 
ErrorMessage
éé  ,
=
éé- .
$str
éé/ V
)
ééV W
]
ééW X
public
èè 
required
èè 
int
èè 
	IdCliente
èè %
{
èè& '
get
èè( +
;
èè+ ,
set
èè- 0
;
èè0 1
}
èè2 3
[
ëë 	
Required
ëë	 
(
ëë 
ErrorMessage
ëë 
=
ëë  
$str
ëë! I
)
ëëI J
]
ëëJ K
[
íí 	
RegularExpression
íí	 
(
íí 
$str
íí #
,
íí# $
ErrorMessage
íí% 1
=
íí2 3
$str
íí4 g
)
ííg h
]
ííh i
[
ìì 	
Range
ìì	 
(
ìì 
$num
ìì 
,
ìì 
int
ìì 
.
ìì 
MaxValue
ìì 
,
ìì 
ErrorMessage
ìì  ,
=
ìì- .
$str
ìì/ [
)
ìì[ \
]
ìì\ ]
public
îî 
required
îî 
int
îî 
IdHabitacion
îî (
{
îî) *
get
îî+ .
;
îî. /
set
îî0 3
;
îî3 4
}
îî5 6
[
ññ 	
Required
ññ	 
(
ññ 
ErrorMessage
ññ 
=
ññ  
$str
ññ! E
)
ññE F
]
ññF G
[
óó 	)
CustomFechaInicioValidation
óó	 $
]
óó$ %
public
òò 
DateTime
òò 
?
òò 
FechaInicio
òò $
{
òò% &
get
òò' *
;
òò* +
set
òò, /
;
òò/ 0
}
òò1 2
[
öö 	
Required
öö	 
(
öö 
ErrorMessage
öö 
=
öö  
$str
öö! B
)
ööB C
]
ööC D
[
õõ 	&
CustomFechaFinValidation
õõ	 !
(
õõ! "
nameof
õõ" (
(
õõ( )
FechaInicio
õõ) 4
)
õõ4 5
)
õõ5 6
]
õõ6 7
public
úú 
DateTime
úú 
?
úú 
FechaFin
úú !
{
úú" #
get
úú$ '
;
úú' (
set
úú) ,
;
úú, -
}
úú. /
[
ûû 	
Required
ûû	 
(
ûû 
ErrorMessage
ûû 
=
ûû  
$str
ûû! B
)
ûûB C
]
ûûC D
[
üü 	
RegularExpression
üü	 
(
üü 
$str
üü -
,
üü- .
ErrorMessage
üü/ ;
=
üü< =
$str
üü> n
)
üün o
]
üüo p
[
†† 	
Range
††	 
(
†† 
$num
†† 
,
†† 
double
†† 
.
†† 
MaxValue
†† $
,
††$ %
ErrorMessage
††& 2
=
††3 4
$str
††5 S
)
††S T
]
††T U
public
°° 
decimal
°° 
?
°° 
PrecioTotal
°° #
{
°°$ %
get
°°& )
;
°°) *
set
°°+ .
;
°°. /
}
°°0 1
[
££ 	

JsonIgnore
££	 
]
££ 
public
§§ 
Cliente
§§ 
?
§§ 
Cliente
§§ 
{
§§  !
get
§§" %
;
§§% &
set
§§' *
;
§§* +
}
§§, -
[
•• 	

JsonIgnore
••	 
]
•• 
public
¶¶ 

Habitacion
¶¶ 
?
¶¶ 

Habitacion
¶¶ %
{
¶¶& '
get
¶¶( +
;
¶¶+ ,
set
¶¶- 0
;
¶¶0 1
}
¶¶2 3
[
ßß 	

JsonIgnore
ßß	 
]
ßß 
public
®® 
ICollection
®® 
<
®® 
ServicioAdicional
®® ,
>
®®, -
?
®®- ."
ServiciosAdicionales
®®/ C
{
®®D E
get
®®F I
;
®®I J
set
®®K N
;
®®N O
}
®®P Q
}
©© 
public
´´ 

class
´´ 
ServicioAdicional
´´ "
{
¨¨ 
public
≠≠ 
required
≠≠ 
int
≠≠ !
IdServicioAdicional
≠≠ /
{
≠≠0 1
get
≠≠2 5
;
≠≠5 6
set
≠≠7 :
;
≠≠: ;
}
≠≠< =
[
ØØ 	
Required
ØØ	 
(
ØØ 
ErrorMessage
ØØ 
=
ØØ  
$str
ØØ! F
)
ØØF G
]
ØØG H
[
∞∞ 	
RegularExpression
∞∞	 
(
∞∞ 
$str
∞∞ #
,
∞∞# $
ErrorMessage
∞∞% 1
=
∞∞2 3
$str
∞∞4 b
)
∞∞b c
]
∞∞c d
[
±± 	
Range
±±	 
(
±± 
$num
±± 
,
±± 
int
±± 
.
±± 
MaxValue
±± 
,
±± 
ErrorMessage
±±  ,
=
±±- .
$str
±±/ X
)
±±X Y
]
±±Y Z
public
≤≤ 
required
≤≤ 
int
≤≤ 
	IdReserva
≤≤ %
{
≤≤& '
get
≤≤( +
;
≤≤+ ,
set
≤≤- 0
;
≤≤0 1
}
≤≤2 3
[
¥¥ 	
Required
¥¥	 
(
¥¥ 
ErrorMessage
¥¥ 
=
¥¥  
$str
¥¥! A
)
¥¥A B
]
¥¥B C
[
µµ 	
StringLength
µµ	 
(
µµ 
$num
µµ 
,
µµ 
ErrorMessage
µµ '
=
µµ( )
$str
µµ* ^
)
µµ^ _
]
µµ_ `
public
∂∂ 
string
∂∂ 
?
∂∂ 
Descripcion
∂∂ "
{
∂∂# $
get
∂∂% (
;
∂∂( )
set
∂∂* -
;
∂∂- .
}
∂∂/ 0
[
∏∏ 	
Required
∏∏	 
(
∏∏ 
ErrorMessage
∏∏ 
=
∏∏  
$str
∏∏! ;
)
∏∏; <
]
∏∏< =
[
ππ 	
RegularExpression
ππ	 
(
ππ 
$str
ππ -
,
ππ- .
ErrorMessage
ππ/ ;
=
ππ< =
$str
ππ> n
)
ππn o
]
ππo p
[
∫∫ 	
Range
∫∫	 
(
∫∫ 
$num
∫∫ 
,
∫∫ 
double
∫∫ 
.
∫∫ 
MaxValue
∫∫ $
,
∫∫$ %
ErrorMessage
∫∫& 2
=
∫∫3 4
$str
∫∫5 S
)
∫∫S T
]
∫∫T U
public
ªª 
decimal
ªª 
?
ªª 
Costo
ªª 
{
ªª 
get
ªª  #
;
ªª# $
set
ªª% (
;
ªª( )
}
ªª* +
[
ΩΩ 	

JsonIgnore
ΩΩ	 
]
ΩΩ 
public
ææ 
Reserva
ææ 
?
ææ 
Reserva
ææ 
{
ææ  !
get
ææ" %
;
ææ% &
set
ææ' *
;
ææ* +
}
ææ, -
}
øø 
[
¬¬ 
AttributeUsage
¬¬ 
(
¬¬ 
AttributeTargets
¬¬ $
.
¬¬$ %
Property
¬¬% -
)
¬¬- .
]
¬¬. /
public
√√ 

class
√√ 2
$CustomFechaInicioValidationAttribute
√√ 5
:
√√6 7!
ValidationAttribute
√√8 K
{
ƒƒ 
	protected
≈≈ 
override
≈≈ 
ValidationResult
≈≈ +
IsValid
≈≈, 3
(
≈≈3 4
object
≈≈4 :
?
≈≈: ;
value
≈≈< A
,
≈≈A B
ValidationContext
≈≈C T
validationContext
≈≈U f
)
≈≈f g
{
∆∆ 	
if
«« 
(
«« 
value
«« 
is
«« 
DateTime
«« !
fechaInicio
««" -
&&
««. 0
fechaInicio
««1 <
<
««= >
DateTime
««? G
.
««G H
Now
««H K
)
««K L
{
»» 
return
…… 
new
…… 
ValidationResult
…… +
(
……+ ,
$str
……, j
)
……j k
;
……k l
}
   
return
ÀÀ 
ValidationResult
ÀÀ #
.
ÀÀ# $
Success
ÀÀ$ +
!
ÀÀ+ ,
;
ÀÀ, -
}
ÃÃ 	
}
ÕÕ 
[
–– 
AttributeUsage
–– 
(
–– 
AttributeTargets
–– $
.
––$ %
Property
––% -
)
––- .
]
––. /
public
—— 

class
—— /
!CustomFechaFinValidationAttribute
—— 2
:
——3 4!
ValidationAttribute
——5 H
{
““ 
private
”” 
readonly
”” 
string
”” &
_fechaInicioPropertyName
””  8
;
””8 9
public
’’ /
!CustomFechaFinValidationAttribute
’’ 0
(
’’0 1
string
’’1 7%
fechaInicioPropertyName
’’8 O
)
’’O P
{
÷÷ 	&
_fechaInicioPropertyName
◊◊ $
=
◊◊% &%
fechaInicioPropertyName
◊◊' >
;
◊◊> ?
}
ÿÿ 	
	protected
⁄⁄ 
override
⁄⁄ 
ValidationResult
⁄⁄ +
IsValid
⁄⁄, 3
(
⁄⁄3 4
object
⁄⁄4 :
?
⁄⁄: ;
value
⁄⁄< A
,
⁄⁄A B
ValidationContext
⁄⁄C T
validationContext
⁄⁄U f
)
⁄⁄f g
{
€€ 	
var
‹‹ 
fechaFin
‹‹ 
=
‹‹ 
value
‹‹  
as
‹‹! #
DateTime
‹‹$ ,
?
‹‹, -
;
‹‹- .
var
›› !
fechaInicioProperty
›› #
=
››$ %
validationContext
››& 7
.
››7 8

ObjectType
››8 B
.
››B C
GetProperty
››C N
(
››N O&
_fechaInicioPropertyName
››O g
)
››g h
;
››h i
if
ﬂﬂ 
(
ﬂﬂ !
fechaInicioProperty
ﬂﬂ #
!=
ﬂﬂ$ &
null
ﬂﬂ' +
)
ﬂﬂ+ ,
{
‡‡ 
var
·· 
fechaInicio
·· 
=
··  !!
fechaInicioProperty
··" 5
.
··5 6
GetValue
··6 >
(
··> ?
validationContext
··? P
.
··P Q
ObjectInstance
··Q _
)
··_ `
as
··a c
DateTime
··d l
?
··l m
;
··m n
if
„„ 
(
„„ 
fechaInicio
„„ 
.
„„  
HasValue
„„  (
&&
„„) +
fechaFin
„„, 4
.
„„4 5
HasValue
„„5 =
&&
„„> @
fechaFin
„„A I
<=
„„J L
fechaInicio
„„M X
)
„„X Y
{
‰‰ 
return
ÂÂ 
new
ÂÂ 
ValidationResult
ÂÂ /
(
ÂÂ/ 0
$str
ÂÂ0 h
)
ÂÂh i
;
ÂÂi j
}
ÊÊ 
}
ÁÁ 
return
ËË 
ValidationResult
ËË #
.
ËË# $
Success
ËË$ +
!
ËË+ ,
;
ËË, -
}
ÈÈ 	
}
ÍÍ 
}ÎÎ 